# Unity2D超入門講座 スクリプト一覧表

これは、書籍「楽しく学ぶ Unity 2D 超入門講座」の巻末に収録されている、スクリプト一覧表です。

| Group 1: ずっと  |                  | | 必要コンポーネント |
|---------------|------------------|-|-----------|
| ずっと、移動する (水平) | `Forever_MoveH`  | |           | 
| ずっと、移動する (垂直) | `Forever_MoveV`  | |           | 
| ずっと、回転する      | `Forever_Rotate` | |           | 
| ときどき、曲がる      | `Sometime_Turn`  | |           | 
| ときどき、反転する     | `Sometime_Flip`  | |           | 

| Group 2: 移動              |                          |                                                            | 必要コンポーネント     |
|--------------------------|--------------------------|------------------------------------------------------------|---------------|
| キーを押すと、スプライトが移動する        | `OnKeyPress_MoveSprite`  | アタッチしたオブジェクトを前後左右キーでを移動させる                                 |               |
| キーを押すと、スプライトが水平方向のみに移動する | `OnKeyPress_MoveSpriteH` | アタッチしたオブジェクトを**左右**キーでを移動させる                               |               |
| キーを押すと、移動する              | `OnKeyPress_Move`        | アタッチしたオブジェクトを前後左右キーで移動させる。衝突時の回転を回避するため、重力は `0` に設定される。    | `Rigidbody2D` |                                
| ずっと、追いかける                | `Forever_Chase`          | 追いかける対象オブジェクトを一定の速度で一直線に追跡する。衝突時の回転を回避するため、重力は `0` に設定される。 | `Rigidbody2D` |                                
| ずっと、逃げる                  | `Forever_Escape`         | 逃げる対象オブジェクトから一定の速度で一直線に逃走する。衝突時の回転を回避するため、重力は `0` に設定される。  | `Rigidbody2D` |                                

| Group 3: 衝突           |                                  |                                                                                                                                   | 必要コンポーネント                                              |
|-----------------------|----------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------|
| 衝突すると、消す              | `OnCllision_Hide`                | 衝突目標と、衝突時に消すオブジェクトをそれぞれ指定し、目標に衝突したら消す対象を非アクティブにする                                                                                 | `Collider 2D` (`OnCollisionEnter2D`)                   |
| 衝突すると、表示する            | `OnCllision_Show`                | 衝突目標と、衝突時に表示するオブジェクトをそれぞれ指定し、目標に衝突したら表示対象をアクティブにする。<br/>表示するオブジェクトはゲーム開始時に非アクティブになる。                                              | `Collider 2D` (`OnCollisionEnter2D`)                   |
| 衝突すると、消す(複数対応)        | `OnMultiCollision_Hide`          | 消す対象を非アクティブにしてしまうと、`GameObject.Find` で取得できなくなるため、 衝突目標が複数で消す対象が一つの場合や、次に表示したい場合などにうまくいかないケースが出る。よって、非アクティブではなく、画面外に移動して見えないようにする。 | `Collider 2D` (`OnCollisionEnter2D`)                   |
| 衝突すると、表示する(複数対応)      | `OnMultiCollision_Show`          | 消す対象を非アクティブにしてしまうと、`GameObject.Find` で取得できなくなるため、 ゲーム開始時に表示対象を取得する際に、最初の一つ目のオブジェクトしか取得できない。よって、非アクティブではなく、画面外に移動して見えないようにする。      | `Collider 2D` (`OnCollisionEnter2D`)                   |
| 衝突すると、ゲームをストップする      | `OnCllision_StopGame`            | 衝突目標に衝突するとゲームを停止する (`Time.timeScale = 0`)                                                                                         | `Collider 2D` (`OnCollisionEnter2D`)                   |
| ずっと移動して、衝突すると反転する(水平) | `Forever_MoveH_OnCollision_Flip` | 物理ボディを使って水平(横方向)に移動する。重力は `0` になっている。                                                                                             | `Rigidbody2D`<br/>`Collider 2D` (`OnCollisionEnter2D`) |
| ずっと移動して、衝突すると反転する(垂直) | `Forever_MoveV_OnCollision_Flip` | 物理ボディを使って垂直(縦方向)に移動する。重力は `0` になっている。                                                                                             | `Rigidbody2D`<br/>`Collider 2D` (`OnCollisionEnter2D`) |

| Group 6: シーン切り替え |                           |                                         | 必要コンポーネント                            |
|------------------|---------------------------|-----------------------------------------|--------------------------------------|
| タッチすると、シーンを切り替える | `OnMouseDown_SwitchScene` | オブジェクトの `OnMouseDown` イベントを使ってシーンを切り替える |                                      |
| 衝突すると、シーンを切り替える  | `OnCollision_SwitchScene` | 衝突対象のオブジェクトを指定し、そのオブジェクトと衝突したらシーンを切り替える | `Collider 2D` (`OnCollisionEnter2D`) |

| Group 7: プレハブ         |                               |                                                                                    | 必要コンポーネント                            |
|-----------------------|-------------------------------|------------------------------------------------------------------------------------|--------------------------------------|
| タッチすると、そこにプレハブを作る     | `OnMouseDown_CreatePrefab`    | マウスで左クリックしたスクリーンの場所に、指定した Prefab を生成する                                             |                                      |
| キーを押すと、近くにプレハブを作る*    | `OnKeyPress_CreatePrefab`     | 指定したキー(デフォルトは `space`)を押すと、アタッチしたオブジェクトの近くに指定した Prefab を生成する。生成場所は、xyのオフセットで調整できる。 |                                      |
| ときどき、範囲内にランダムにプレハブを作る | `Sometime_RandomCreatePrefab` | 指定した間隔ごとに、スプライトの範囲内のランダムな場所から、指定した Prefab を生成する                                    |                                      |
| 衝突すると、そこにプレハブを作る*     | `OnCollision_CreatePrefab`    | 衝突目標に衝突すると衝突位置に、指定した Prefab を生成する                                                  | `Collider 2D` (`OnCollisionEnter2D`) |
| 時間切れになると、自分自身を削除する    | `OnTimeout_DestroyMe`         | 生成後に、指定時間経過で自身を Destroy する。生成する Prefab に使うと便利。                                     |                                      |
| 画面の外に出ると、自分自身を削除する*   | `OnOutsideScene_DestroyMe`    | 表示後に画面の外に出ると、自身を Destroy する。生成する Prefab に使うと便利。                                    |                                      |
| 衝突すると、自分自身と相手を削除する*   | `OnCollision_Destroy`         | 衝突目標に衝突すると、衝突目標と自分自身を Destroy する。                                                  |                                      |
| 衝突すると、自分自身を削除する*      | `OnCollision_DestroyMe`       | 衝突目標に衝突すると、自分自身を Destroy する。                                                       |                                      |

| Group 8: 重力            |                              |                                                                                                 | 必要コンポーネント                                                             |
|------------------------|------------------------------|-------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------|
| キーを押すと、移動する (重力対応テスト版) | `OnKeyPress_TestMoveGravity` | テスト版の方は、地面の接地判定が無いので空中でもジャンプができる                                                                | `Rigidbody2D`                                                         |
| キーを押すと、移動する (重力対応版)    | `OnKeyPress_MoveGravity`     | テスト版と違って、足元にトリガーを配置し、地面に接地しているかを判定し、接地のときだけジャンプできるようにしている(ただし、地面だけでなく、何にでも接地していればよい)            | `Rigidbody2D`<br/>`Collider 2D` (`OnTriggerStay2D`,`OnTriggerExit2D`) |
| ずっと、追いかける (重力対応版)      | `Forever_ChaseGravity`       | `Forever_Chase` の重力を有効にしたもの。速度は左右方向のみ指定できる。                                                     | `Rigidbody2D`                                                         |
| 上キーを押すと、プレハブを作って投げる    | `OnUpKeyPress_Throw`         | 上キーを押した際に、 Prefab を生成する(生成場所は上下方向のみオフセット可能)。生成後に、指定したxy方向の力に AddForce する。射出方向はスプライトが向いている方向になる。 | `Rigidbody2D`                                                         |
| ずっと、カメラが追いかける          | `Forever_ChaseCamera`        | カメラが、アタッチしたオブジェクトの位置を追いかける（追随する)。                                                               |                                                                       |
| ずっと、カメラが追いかける(水平に)     | `Forever_ChaseCameraH`       | `Forever_ChaseCamera` は追いかけるオブジェクトの上下方向にも合わせるが、こちらは、上下の位置は最初の高さで固定される。                          |                                                                       |

| Group 10: その他 |                         |                                                                                   | 必要コンポーネント |
|---------------|-------------------------|-----------------------------------------------------------------------------------|-----------|
| ずっと、マウスを追いかける | `Forever_ChaseMouse`    | アタッチしたオブジェクトをマウスを追いかけるようにする。他のオブジェクトにはぶつからないように調整されている。                           |           |
| タッチすると、ドラッグする | `OnMouseDown_DragStart` | `Forever_ChaseMouse` とは異なり、`OnMouseDown` でマウスクリックされている間だけ追いかけるようにし、ドラッグしているように見せる |           |
